import logging

def generate_transcript_utterance(df):
    html_output = []

    for _, row in df.iterrows():
        if row['pcd'] == 'Customer':
            bg_color = 'lightyellow'
        else:
            bg_color = 'white'

        # Create Div string, per row
        div_string = f'''
        <div style="background-color: {bg_color}; padding: 5px; width: 80%; border-radius: 10px;">
            <h5 style="margin: 0px">{row["pcd"]}</h5>
            <p style="margin: 0px">{row["seq"]}</p>
            <p>{row["conversation"]}</p>
        </div>
        <br>
        '''
        html_output.append(div_string)

    # Combine all the strings into one big HTML string
    all_divs = ''.join(html_output)

    # Now wrap the entire collection of divs inside a parent div
    final_html = f'''
    <div style="background-color: lightgray; padding: 5px;">
        <h2>This is a div</h2>
        {all_divs}
    </div>
    '''
    
    logging.info(final_html)
    return final_html

my_output = generate_transcript_utterance(df_transcript_sample)
